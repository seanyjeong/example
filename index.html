<!DOCTYPE html>
<html>
<head>
    <title>University Record Input</title>
</head>
<body>
    <h1>University Record Input</h1>
    <form id="recordForm">
        <label for="university">Select University:</label>
        <select id="university" name="university" required>
            <option value="가천체육">가천체육</option>
            <!-- 추가할 대학들 -->
        </select>
        <h2>제멀</h2>
        <label for="recordJemul">Enter 제멀 Record (cm):</label>
        <input type="number" id="recordJemul" name="recordJemul" step="0.01" required>
        <br>
        <label for="genderJemul">Select Gender:</label>
        <select id="genderJemul" name="genderJemul" required>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>
        <h2>메던</h2>
        <label for="recordMedun">Enter 메던 Record (m):</label>
        <input type="number" id="recordMedun" name="recordMedun" step="0.01" required>
        <br>
        <label for="genderMedun">Select Gender:</label>
        <select id="genderMedun" name="genderMedun" required>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>
        <br>
        <button type="submit">Submit</button>
    </form>
    <h2>Total Score: <span id="totalScore"></span></h2>

    <script>
        document.getElementById('recordForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const university = document.getElementById('university').value;
            const recordJemul = document.getElementById('recordJemul').value;
            const genderJemul = document.getElementById('genderJemul').value;
            const recordMedun = document.getElementById('recordMedun').value;
            const genderMedun = document.getElementById('genderMedun').value;

            fetch('https://supermax.kr:4000/get-total-score', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    university: university,
                    records: [
                        { event: '제멀', record: recordJemul, gender: genderJemul },
                        { event: '메던', record: recordMedun, gender: genderMedun }
                    ]
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    document.getElementById('totalScore').innerText = data.error;
                } else {
                    document.getElementById('totalScore').innerText = data.totalScore;
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>
